
# 🏁 ゴール

この記事はペンテスターの業務範囲を明確にする試みです。
ペネトレーションの全体像を掴む目的で作りました。

# 🚩 ぺネトレーションテストとは

**ペネトレーションテストとは、攻撃者がセキュリティコントロールを回避し、組織のシステムへアクセスするために使う可能性のある手法をシミュレートする方法である。**

公開ペネトレーションテストは以下のステップで実行される

1. [事前契約]()
    - ヒアリング, テストの範囲と料金、手法の確認, 期待値のすり合わせ
    - 目的 : システム所有者から正式な許可を取得し、法的な問題を回避します。
2. インテリジェンスギャザリング
    - SNS,検索エンジンからの情報収集
    - 注意 : ここでは一般的に公開されている情報を調査する。
3. 脆弱性評価
    - 収集した情報を元に、脆弱性スキャナーや手動で脆弱性を調査し、攻撃方法に優先順位をつける
    - 使用するツール : `Nmap`(エヌマップ) `Nessus`(ネサス), `Burp Suite`(バープ スイート)
5. エクスプロイト
    - 侵入経路の確立
6. ポストエクスプロイト
    - 上記のエクスプロイトを踏み台とし、機密情報を探る
7. 報告書の作成
    - 攻撃内容とその対策の共有
8. サポート
    - 報告書や診断結果に関する問い合わせ対応

> **Note**  
> 上記は公開ペネトレーションテストのケースであり、**秘密ペネトレーションテスト**は異なる。
> 承認された秘密ペネトレーションテストは、攻撃者の行動を模倣して設計され、企業が知らないうちに実行される。秘密テストは、社内のセキュリティチームの検出能力と、攻撃への対応能力を試すために行われる。
> (中略)
> セキュリティ業界のペネトレーションテスターから見れば、本物の攻撃をよりそっくりにシミュレートしているために、秘密テストのほうが好まれる場合が多い。


- [株式会社ラック 情報システムペネトレーションテスト](https://www.lac.co.jp/consulting/penetration_test.html)
- [実践 Metasploit](https://www.oreilly.co.jp/pub/9784873115382/Metasploit_sample-C01.pdf)









tttttttttttttttttttttttttttt


# 😎 ペンテスターの事前契約

## 概要

初期ステップの「事前契約」のみに焦点をあててます。

## 対象者

- ペネトレーションテストの「技術以外」を知りたい方

## Toc



# 💰 契約前後

## 料金設定

IPアドレスの数によって変わるケースや、サイトごとに変わるケース、実施期間によって変わるケースがある

- 株式会社ラック

| サービス名称 | こんな方にオススメ | 診断手法 | 納期  | 価格  |
| --- | --- | --- | --- | --- |
| [Webアプリケーション診断 エクスプレス](/consulting/webexpress.html) | Webアプリ・Webサイトの問題点を迅速に把握したい | ツール | 最短2営業日 | 300,000円〜  <br>※ 1サイト（50画面遷移上限） |
| [Webアプリケーション診断 安全点検パック](/consulting/web_inspection_pack.html) | Webアプリ・Webサイトの全体像と脆弱性を把握したい | ツール+手動 | 最短4営業日 | 800,000円〜  <br>※ 1サイト（50画面遷移上限） |
| [Webアプリケーション診断ハイブリッド](/consulting/web-application.html) | Webアプリ・Webサイトの安全性を徹底的に調査したい | ツール+手動 | 最短10営業日 | 1,000,000円〜  <br>※ 1サイト（20画面遷移） |
| [Webアプリケーション診断「Quick WATCH」](/consulting/quickwatch.html) | 手軽にセキュリティ診断を自組織内で実現したい | ツール  <br>※ お客様にて実施 | 最短3営業日 | 個別見積 |
| [Webアプリケーション診断「SCUVA」](/consulting/scuva.html) | 保有する複数サイトの定期チェック | ツール+手動 | 最短5営業日 | 490,000円〜  <br>※ 1サイト |

https://www.lac.co.jp/consulting/evaluation_info.html


- 期間変動型1

> |     |     |     |
> | --- | --- | --- |
> | ​   | **​スマートスキャン** | **ディープスキャン** |
> | **料金** | 60万円 | 120万円 |
> | **実施期間** | 実施期間3日間 | 3～7日間 |
> | **特徴** | *   ​個人情報の漏れや脆弱性の有無を診断、レポート提出<br>    <br>*   本番環境実施可能<br>    <br>*   ツール、手動検査 | *   個人情報の漏れや脆弱性の有無を診断、問題があった場合は原因を調査、レポート提出<br>    <br>*   本番環境実施可能<br>    <br>*   ツール、手動検査 |
>  
>  [シースリーレーヴ株式会社 料金プラン
](https://www.penetration.c3reve.co.jp/price)

- 期間変動型2 

> |     |     |
> | --- | --- |
> | 標準マルウェア感染シナリオ | 700～1,000万円程度 |
> | ReadTeam演習の実施 | 1,000～2,000万円程度 |
> | TLTPの実施 | 2,000～3,000万円程度 |
> 
> [GMOサイバーセキュリティ 情報システムペネトレーションテスト
](https://www.lac.co.jp/consulting/penetration_test.htmls)

- IP数変動型 

> ご提供価格
> - 侵入検査:100,000円 (1IP)
> - 画面検査:200,000円~(5画面)
> 
> ※画面検査に関しましては、画面の動作仕様(画面遷移、入力項目、アクション、等)により異なります。
> 
> [株式会社TEPCOシステム ペネトレーション診断テストサービス
](https://www.tepsys.co.jp/service/service_21.html)


(コラム)ベンダーの評価基準にはCTF実績も含まれる。

> **Note**
> 
> デジタル庁サイトでのペネトレーションベンダーの選定基準には次のようなものがある
> 
> - ペネトレーションテストの国際資格の有無
> - CTF含めたセキュリティコンテストの上位入賞実績
> 
> > 高度化するサイバー攻撃の脅威を未然に防ぐためには、十分な経験と能力を有したセキュリティベンダーの選定を要することから、
> > 選定に際しては経済産業省の定義する「情報セキュリティサービスに関する審査登録機関基準7」を満たすことの確認に加えて、
> > 脆弱性を検出する能力を測るため、ペネトレーションテストの国際資格の保有状況や CTF（Capture The Flag）等のセキュリティコンテストにおける上位入賞実績、
> > 国内外の脆弱性届出制度8や開発者等への報告及び調整実績を問い合わせること等が有効である。
> 
> [脆弱性診断を行うにあたっての留意事項　脆弱性診断サービスの選定](https://www.digital.go.jp/assets/contents/node/basic_page/field_ref_resources/e2a06143-ed29-4f1d-9c31-0f06fca67afc/b08708cd/20240131_resources_standard_guidelines_guidelines_05.pdf)


## スコープ設定会議

「スコープ」は、ペネトレーションテストの実施範囲になります。

企業のすべてのネットワークを対象とするケースもあれば、特定のIP、特定のセグメントのみをスコープとすることもありえます。


また、ベンダーによっては「起点」「目標」「攻撃手法」など厳密に範囲を決定するケースもあります。

- 起点：テストの開始地点を指します。攻撃者視点では、どこから攻撃を仕掛けるかということにあたります。
- 目標：テストのゴール、目的を指します。攻撃者視点では、何を目的に攻撃するのかということにあたります。
- 攻撃手法：テストのゴールを達成するための手段を指します。攻撃者視点では、目的達成のための手法を指します。

参考 : https://www.mbsd.jp/research/20210524/zeroday/

参考 : https://www.mbsd.jp/research/20210524/zeroday/

### 秘密情報の範囲を明記する

**相手方が特に秘密である旨の表示を明記し、提供の際に秘密情報の範囲を特定した情報を、機密保持義務の対象とします。** 

> 第29条 （機密保持義務）
1 当社および契約者は、本サービスの提供にあたり、相手方より提供を受けた本サービスに要するＩＰアドレ
ス、システム分類、ドメイン URL 情報、診断等の内容およびその結果、報告書もしくは、相手方の技術上又
は営業上その他業務上の情報のうち相手方が特に秘密である旨の表示を明記し、提供の際に秘密情報の
範囲を特定した情報を、機密保持義務の対象とします。
2 前項の機密保持の対象事項において、当社および契約者は本条に定める各項を遵守し、これを機密に保
持するものとします。また、利用契約の目的の範囲を超えての使用を禁止します。
3 次の各号に掲げる情報は機密情報に該当しないものとします。
> 
> [アルテリア・ネットワークス株式会社 脆弱性診断サービス利用規約](https://www.arteria-net.com/files/user/images/business/terms/k_Vulnerability-Assessment-Service.pdf)

## 本番環境へ影響が出た時の責任

**訓練におけるあらゆる責任は契約者が負担する**

> 本サービスの訓練中に提供事業者のシステムが停止するなどの障
害が発生した場合には、当社・提供事業者は、契約者が指定した訓
練期間であっても訓練を中断します。なお、これにより中断した場合
でも、訓練の中断により起因したあらゆる責任は契約者が負担する
ものとし、且つ当社・提供事業者がクレーム等への対応に費用を要
した場合には、その費用も契約者が負担するものとします。また、中
断より、当社は契約者に対して代金の減額等は行わないものとしま
す。
> 
> [アルテリア・ネットワークス株式会社 脆弱性診断サービス利用規約](https://www.arteria-net.com/files/user/images/business/terms/k_Vulnerability-Assessment-Service.pdf)


# その他メモ

## その他のぺネトレーションテスト ガイドライン候補一覧

1. PTES
    - PTES（The Penetration Testing Execution Standard）は一時期、ペネトレーションテストのための標準的なガイドラインとして広く利用されていましたが、近年はあまり更新されておらず、現代のセキュリティ業界で使われることが少なくなっています。
2. OWASP Testing Guide
    - 概要: OWASP（Open Web Application Security Project）は、ウェブアプリケーションセキュリティに特化したプロジェクトです。その中で提供されるTesting Guideは、特にウェブアプリケーションのペネトレーションテストに焦点を当てた詳細なガイドラインです。
    特徴: 継続的に更新されており、ウェブアプリケーションに関連する最新の脅威や攻撃手法に対応しています
3. NIST SP 800-115
    - 概要: NIST（National Institute of Standards and Technology）は、米国の標準化機関であり、SP 800-115は技術的セキュリティ評価のためのガイドラインを提供しています。
4. OSSTMM (Open Source Security Testing Methodology Manual)
    - 概要: OSSTMMは、セキュリティテストのためのオープンソースの手法論を提供します。これは、物理的、人的、デジタルのセキュリティテストに焦点を当てています。
    特徴: より広範な視点からのセキュリティ評価が可能であり、物理セキュリティや人的要因も含まれています。
5. MITRE ATT&CK
    - 概要: MITRE ATT&CKは、サイバー攻撃の技術や戦術をモデル化したフレームワークです。
    特徴: 特に攻撃シミュレーションやレッドチーム活動に使用され、現代のサイバー攻撃シナリオを包括的にカバーします。

上記はセキュリティのテスト自体のフレームワークが主であり、「契約」「支払い」の観点が含まれないため、参考情報とする。

## ペンテスターの求人

> セキュリティの専門家として、攻撃手法の研究結果や、実際の社内に蓄積された経験（各種セキュリティ対策やフォレンジック等）を基に、攻撃者の視点でさまざまな擬似攻撃を行い、脆弱性の有無や設定状況・耐性等を確認していきます。
> あらゆる攻撃を想定して「これ以上は調べられない」という限界までシステムを調べ尽くしていきます。大きな穴を見つけるだけでなく、小さな穴も細かく探していく作業になります。
> 
> - ペネトレーションテストの計画、実行、報告書作成
> - ペネトレーションテストの精度の向上や効率化に向けた施策から実行
> - 診断実施に関わる事前調整などお客様とのコミュニケーション
> - 対象となるWebアプリケーションの診断業務（ツール／手動）
> - 診断結果のレポート作成
> - レポートに基づく報告会の実施　など
> 
> ■診断ツール
> 
> - 脆弱性診断ツール（OWASP ZAP, Burp Suite, Nessus）
> - ペネトレーションテストツール（Metasploit, CobaltStrikeなど）
> - レポート作成ツール（自社開発製品）
> - 顧客対応（Slack、Teams、Zoomなど）　など
> 
> 株式会社レオンテクノロジー 募集職種 ペンテスター／脆弱性診断士
> https://www.leon-tec.co.jp/recruit-jobs/vulnerability-diagnostician/

